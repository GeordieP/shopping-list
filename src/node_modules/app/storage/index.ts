import { getPlatforms } from "@ionic/react";
import { Plugins } from "@capacitor/core";
import * as CapacitorSQLPluginFallback from "capacitor-data-storage-sqlite";
import { CapacitorDataStorageSqlitePlugin } from "capacitor-data-storage-sqlite";
const { CapacitorDataStorageSqlite } = Plugins;

const platforms = getPlatforms();
const isMobile = ["ios", "android"].every(x => platforms.includes(x as any));

const storage = isMobile
  ? CapacitorDataStorageSqlite
  : CapacitorSQLPluginFallback.CapacitorDataStorageSqlite;

export default storage as CapacitorDataStorageSqlitePlugin;
